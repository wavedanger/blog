(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{553:function(t,s,a){"use strict";a.r(s);var r=a(4),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"前端js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端js"}},[t._v("#")]),t._v(" 前端JS")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("文件名 全小写 用“-”连接")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("spu-detail.js\nspuDetail.js\nspu_detail.js\n")])])])]),t._v(" "),a("li",[a("p",[t._v("图片二三倍图@2x,@3x")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("spu-image@2x.png\nspu-image@3x.png\n")])])])]),t._v(" "),a("li",[a("p",[t._v("单复数book or books，推荐都用单数，不用想太多，而且有些东西并不可数，而且万一复数形式还想错了呢！")])]),t._v(" "),a("li",[a("p",[t._v("缩写，尽量使用全称")])])]),t._v(" "),a("h2",{attrs:{id:"url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url"}},[t._v("#")]),t._v(" URL")]),t._v(" "),a("ul",[a("li",[t._v("全小写")]),t._v(" "),a("li",[t._v("使用'_'或'-'")]),t._v(" "),a("li",[t._v("推荐使用'-'")]),t._v(" "),a("li",[t._v("如：http://localhost:8080/v1/spu/detail/by-id")])]),t._v(" "),a("h2",{attrs:{id:"rest-资源型-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rest-资源型-api"}},[t._v("#")]),t._v(" REST 资源型 API")]),t._v(" "),a("ul",[a("li",[t._v("服务端 -> 前端 是比较粗旷，接口只需返回所有数据，前端只需提取其中需要的就行")]),t._v(" "),a("li",[t._v("区别：以前返回字段数量不同，即使接口相似也要另开API")]),t._v(" "),a("li",[t._v("RESTFUL优点在于节约带宽，缺点在于不够精确，字段越多而导致查询效率越低")]),t._v(" "),a("li",[t._v("切记不要滥用，如10个前端页面10个API，尽可能合并API")]),t._v(" "),a("li",[t._v("总结：服务端从资源服务方面考虑，不要从前端业务方面考虑")]),t._v(" "),a("li",[t._v("例：表单里面有分类的建议，从资源服务方面我们可以单独提取出来，因为多个页面都有分类，可以提取为一个接口")])]),t._v(" "),a("h2",{attrs:{id:"返回结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#返回结果"}},[t._v("#")]),t._v(" 返回结果")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("HTTP状态码，切记有意义，不要把所有状态码都设为200，即使再返字段解释")]),t._v(" "),a("ul",[a("li",[t._v("404->资源未找到")]),t._v(" "),a("li",[t._v("200->请求成功")])])]),t._v(" "),a("li",[a("p",[t._v("返回的结果永远是JSON")]),t._v(" "),a("ul",[a("li",[t._v("分页与不分页"),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//分页")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"count"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"page"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"total_page"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"items"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ins复古翠绿NoteBook"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"subtitle"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"林白默默的掏出小本本，将她说的话一次不漏的记了下来。"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"img"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"for_theme_img"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"price"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"29.99"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"discount_price"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"27.8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tags"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"林白推荐"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sketch_spec_id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"max_purchase_quantity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"min_purchase_quantity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])]),t._v(" "),a("li",[a("p",[t._v("操作型API")]),t._v(" "),a("ul",[a("li",[t._v("更新，新增数据需返回更新、新增的内容，为RESTFUL的规范")]),t._v(" "),a("li",[t._v("个人，非公开API可以不遵循规范，使用UnifyResponse(统一消息回应)，从业务出发，可以自定义返回状态码code(0~9999)，0可表示正确，1000以上表示错误码"),a("div",{staticClass:"language-JSON extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  'code'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("~"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  'message'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("'信息提示'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  'request'"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("'POST v"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("/book'\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("code与http状态码区别\n"),a("ul",[a("li",[t._v("code更为详细")]),t._v(" "),a("li",[t._v("比如获取资源返回404我们只知道资源未找到，而自定义code可以告诉我们什么资源未找到")])])])])])]),t._v(" "),a("h2",{attrs:{id:"空数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#空数据"}},[t._v("#")]),t._v(" 空数据")]),t._v(" "),a("ul",[a("li",[t._v("请求返回场景")]),t._v(" "),a("li",[t._v("资源不存在 404+UnifyResponse")]),t._v(" "),a("li",[t._v("空数据不分页 200 []")]),t._v(" "),a("li",[t._v("空数据分页 200 {} 就是以上分页的JSON")])]),t._v(" "),a("h2",{attrs:{id:"贫血模式和充血模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#贫血模式和充血模式"}},[t._v("#")]),t._v(" 贫血模式和充血模式")]),t._v(" "),a("ul",[a("li",[t._v("多用于JAVA和Python")]),t._v(" "),a("li",[t._v("贫血只有数据而充血有数据和行为")])]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("ul",[a("li",[t._v("七月老师讲得是真的不错，收获颇丰，"),a("a",{attrs:{href:"https://course.talelin.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("七月老师个人网"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("之前也是学过老师的两个课程，大家可以看看\n"),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/wavedanger/ReadAndMovie",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于本地数据及豆瓣电影接口的微信小程序"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/wavedanger/oldIsland",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信小程序开发-旧岛"),a("OutboundLink")],1)])])]),t._v(" "),a("li",[t._v("每次听完公开课，就感觉心里空空的，学无止境啊")])])])}),[],!1,null,null,null);s.default=e.exports}}]);